\section{Genetic Algorithm: Viability}

\subsection{Analysis}

Table~\ref{table:basic-ga-results} and Table~\ref{table:rga-results} provide a summary of the results from the basic GA, and RGA experiments respectively. Comparing the results shows that the RGA experiments were able to find a better candidate solution than the basic GA experiments. 

\begin{table}
	\centering
	\begin{tabular}{ | >{\bfseries}c | c | c | c | c | c | c | }
		\hline
		Experiment Set & 1 & 2 & 3 & 4 & 5 & 6 \\ \hline
		Best RMSD & 1.2471 & 1.3315 & 1.1610 & 1.1880 & \textbf{1.1173} & 1.2287 \\ \hline
		Average Best RMSD & 1.3448 & 1.3784 & 1.2792 & 1.3315 & \textbf{1.2626} & 1.3336 \\ \hline
	\end{tabular}
	\caption{Basic GA Results}
	\label{table:basic-ga-results}
\end{table}

\begin{table}
	\centering
	\begin{tabular}{ | >{\bfseries}c | c | c | c | c | c | c | }
		\hline
		Experiment Set & 1 & 2 & 3 & 4 & 5 & 6 \\ \hline
		Average Number of Generations & 67 & 81 & 107 & 124 & 67 & 81 \\ \hline
		Best RMSD & 1.1297 & 1.1545 & 1.1132 & 1.0913 & \textbf{1.046} & 1.0953 \\ \hline
		Average Best RMSD & 1.2281 & 1.2150 & 1.2095 & 1.2189 & \textbf{1.2031} & 1.2171 \\ \hline
	\end{tabular}
	\caption{RGA Results}
	\label{table:rga-results}
\end{table}

A closer look at the data revealed that the basic GA experiments were converging early on local optima. The RGA experiments initially converged on similar optima but were able to find new optima after each restarting phase. Figure~\ref{fig:rga-generational-data} shows what a typical RGA run looks like at each generation. One would notice that there are several \textit{spikes} in the graph where the average fitness jumps. These \textit{spikes} represents a \textit{restart} in the population. During each \textit{restart} the average fitness of the population is disrupted but the fitness quickly improved showing an overall trend downward.

The number of generations in each RGA run varied based on when the population converged. Table~\ref{table:rga-results} contains the average number of generations each run had for each experiment.

At first it may seem biased that the RGA was able to find a better candidate solution than the GA because it was allowed to see more unique individuals and ran for more generations but the GA had soem pitfalls when it was allowed the same privileges. Increasing the size of the GA's populations had little affect on its ability to find improved candidate solutions. Increasing the number of generations for the GA's also did not affect the solutions. The GA runs would converge quickly and become stuck in a local optima.

The GA experiments favoured having \textit{elitism} enabled.

The experiments that produced the best candidate solutions for both the GA, and RGA were experiments contained a crossover rate of 70\% and a mutation rate of 30\% compared to the other experiments that contained a crossover rate of 80\% and a mutation rate of 20\%. Since the higher mutation rate performed better than the higher crossover rate this may indicate that the algorithms favoured receiving new information, through exploration, than exploiting the information already contained within the population. Using a higher mutation rate may also indicate that the problem is better suited to be solved using a less discrete search method such as a PSO.

The best candidate solution found by the RGA can be seen in Figure~\ref{fig:rga-best-exafs}. The \textit{humps} on the calculated EXAFS spectrum appear to be getting close to the experimental EXAFS spectrum except in a few instances. Where $k$ is between 7.5 and 10 the experimental EXAFS spectrum is more chaotic and the calculated EXAFS spectrum is having a tougher time conforming. The chaotic nature of the data may be due to the margin of error in collecting the experimental EXAFS spectrum. A future technique may be to smooth out the experimental EXAFS spectrum in order to get a more accurate RMSD comparison. Another structure refinement technique could be to reduce the range on $k$ for comparison. Comparing the RMSD between $k = [1,7.5]$ may produce improved results because the fitness function would contains less erroneous data points.

% The average RMSD score from the RGA was able to outperform both benchmark RMSD scores but only by a small margin. Fortunately, because the goal is to find a single individual, the best candidate solution from the RGA was able to far exceed the benchmark scores with RMSD of 1.0877. Figure~\ref{fig:bestRunEXAFS} shows the comparison of the EXAFS spectra.

\begin{figure}
	\centering
	\begin{tikzpicture}
		\begin{axis}[
				width=14cm,
				height=6cm,
				grid=both,
				title={Best RGA Run},
				legend entries={Best,Average},
				xlabel={Generations},
				ylabel={Fitness (RMSD)}
			]

			\addplot[mark=x] table [col sep=comma,y index=1, x index=0] {data/rga-sample-run.csv};
			\addplot[mark=*] table [col sep=comma,y index=2, x index=0] {data/rga-sample-run.csv};

		\end{axis}
	\end{tikzpicture}
	\caption{Example Run of a Restarting Genetic Algorithm}
	\label{fig:rga-generational-data}
\end{figure}

\begin{figure*}
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			width=14cm,
			height=6cm,
			grid=both,
			title={EXAFS Spectra Comparison in k space},
			legend entries={Experimental,Calculated},
			legend pos=south west,
			xlabel={$k \mathbin{/} A\textsuperscript{-1}$},
			ylabel={$EXAFS \chi k\textsuperscript{3}$}
		]

		\addplot[mark=x] table [col sep=comma,y index=1, x index=0] {data/rga-best-exafs-comparison.csv};
		\addplot[mark=*,mark size=1] table [col sep=comma,y index=2, x index=0] {data/rga-best-exafs-comparison.csv};

		\end{axis}
	\end{tikzpicture}
	\caption{Best OEC EXAFS Spectra Comparison from RGA}
	\label{fig:rga-best-exafs}
\end{figure*}